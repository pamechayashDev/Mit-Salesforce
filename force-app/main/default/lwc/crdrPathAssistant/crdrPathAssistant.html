<!--
 - Created by Andreas du Preez on 2024/03/14.
 -->

<template>
    <div class="forrester-path">
        <div class="slds-card slds-grid slds-var-p-around_medium">
            <lightning-spinner if:true={isLoading} alternative-text="Loading" size="small"></lightning-spinner>

            <lightning-progress-indicator style="width: 100%;" current-step={currentStep} type="path" variant="base">
                <template for:each={stepList} for:item="step">
                    <lightning-progress-step label={step.label} value={step.value}
                                             key={step.label}></lightning-progress-step>
                </template>
            </lightning-progress-indicator>
            <div class="slds-float_right slds-align_absolute-center"
                 style="white-space: nowrap; min-width: max-content;">
                <lightning-button class="set-stage slds-var-p-left_small" label="Mark Stage as Complete"
                                  title={getPathButtonTitle}
                                  icon-name="utility:check" onclick={handlePathButtonClick} variant="brand"
                                  disabled={checkPathStepDisabled}>
                </lightning-button>
            </div>
        </div>
    </div>

    <template lwc:if={getShowStatusFooterCard}>
        <div class="slds-p-top_small">
            <div class="slds-card">
                <div class="slds-card__header slds-grid">
                    <header class="slds-media slds-has-flexi-truncate">
                        <div class="slds-p-right_x-small">
                            <lightning-icon icon-name="standard:contact_request" size="small"
                                            class="slds-var-m-right_x-small"></lightning-icon>
                        </div>
                        <div class="slds-media__body slds-p-bottom_x-medium">
                            <h2 class="slds-card__header-title slds-p-bottom_x-small">
                                <a class="slds-card__header-link slds-truncate" title="Accounts">
                                    <span class="slds-text-color_status-header">{getStatusFooterHeading}</span>
                                </a>
                            </h2>
                            {getStatusFooterBody}
                        </div>
                    </header>
                </div>
            </div>
        </div>
    </template>
</template>